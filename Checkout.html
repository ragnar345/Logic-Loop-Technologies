<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout and Tracking</title>
    <link rel="stylesheet" href="checkout.css">
</head>
<body>
    <header class="navbar">
        <nav>
            <ul class="nav-links">
                <li><a href="Get started.html">Home</a></li>
                <li><a href="Services.html">Services</a></li>
                <li><a href="Contact.html">Contact</a></li>
                <li><a href="Products.html">Products</a></li>
                <li><a href="Cart.html">Cart</a></li>
            </ul>
        </nav>
    </header>

    <main class="checkout-container">
        <h1>Checkout and Track Your Product</h1>
        <form id="checkoutForm" class="checkout-form">
            <div class="form-group">
                <label for="fullName">Full Name:</label>
                <input type="text" id="fullName" name="fullName" placeholder="Enter your full name" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="Enter your email address" required>
            </div>
            <div class="form-group">
                <label for="address">Shipping Address:</label>
                <input type="text" id="address" name="address" placeholder="Enter your shipping address" required>
            </div>
            <div class="form-group">
                <label for="paymentMethod">Payment Method:</label>
                <select id="paymentMethod" name="paymentMethod" required>
                    <option value="creditCard">Credit Card</option>
                    <option value="paypal">PayPal</option>
                    <option value="mobileMoney">Mobile Money</option>
                </select>
            </div>
            <div class="form-group" id="mobileMoneySection" style="display: none;">
                <label for="mobileNumber">Mobile Number:</label>
                <input type="tel" id="mobileNumber" name="mobileNumber" placeholder="Enter your mobile number" required>
            </div>
            <button type="button" id="stripeCheckoutButton" class="checkout-btn">Pay with Card (Stripe)</button>
        </form>

        <div id="trackingResult" class="tracking-result" style="display: none;">
            <h2>Tracking Information</h2>
            <p id="trackingDetails"></p>
        </div>
    </main>
    <footer class="footer">
    <p>&copy; 2025 Logic Loop Technologies. All rights reserved.</p>
    <p>Follow us on:</p>
  <a href="https://facebook.com" target="_blank">
    <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/facebook.svg" alt="Facebook">Facebook
  </a>
  <a href="https://twitter.com" target="_blank">
    <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/twitter.svg" alt="Twitter">Twitter
  </a>
  <a href="https://www.instagram.com/tobby_s.m.i.t.h/" target="_blank">
    <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg" alt="Instagram">Instagram
  </a>
  <a href="https://wa.me/+250790645696/" target="_blank">
    <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/whatsapp.svg" alt="Whatsapp">Whatsapp
  </a>
  <a href="https://youtube.com/@logicloop-y3j?si=zbo7iWs-y-5nUXDw" target="_blank">
    <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/youtube.svg" alt="Youtube">Youtube
  </a>
</footer>

<!-- Stripe.js -->
<script src="https://js.stripe.com/v3/"></script>
<script>
document.getElementById('stripeCheckoutButton').addEventListener('click', async () => {
  const response = await fetch('http://localhost:4000/create-checkout-session', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ amount: 2000, employeeName: "John Doe" }) // Example: $20.00
  });
  const session = await response.json();
  const stripe = Stripe('pk_test_51RcPDqC6su1OXwS9QOxSLbHxp9YDHoXoZQEcMORJ7ndHwy2cmoZxoUmDYHnVG00pN7mZj3XBbqIYEsFlzFO8RuD500vQ8qAohP'); // Replace with your Stripe publishable key
  stripe.redirectToCheckout({ sessionId: session.id });
});
</script>
</body>
</html>